<style>
.pageTitle {
    display: none;
}
.emTitle{
    color: red;
    font-size: larger;
}
.emTitle a{
    color: #343A40;
}
/* Scrool To Top CSS */
.btn-arrow {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background: rgb(0, 0, 0);
    background: rgba(0, 0, 0, 0.7);
    width: 50px;
    height: 50px;
    cursor: pointer;
    text-align: center;
    -webkit-border-radius: 35px;
    -moz-border-radius: 35px;
    border-radius: 35px;
    display: none;
    -webkit-transition: all 0.3s linear;
    -moz-transition: all 0.3s ease;
    -ms-transition: all 0.3s ease;
    -o-transition: all 0.3s ease;
    transition: all 0.3s ease;
    z-index: 1001;
}
.btn-arrow i{
    color: #fff;
    margin: 0;
    position: relative;
    top: 13px;
    -webkit-transition: all 0.3s ease;
    -moz-transition: all 0.3s ease;
    -ms-transition: all 0.3s ease;
    -o-transition: all 0.3s ease;
    transition: all 0.3s ease;
}
.btn-arrow:hover {
    background: rgba(0, 0, 0, 0.9);
}

.btn-arrow:hover i {
    color: #fff;
    top: 5px;
}
.criteria-name .fas{
    padding: 3px 5px;
}
.collapsed .fas:before {
    content: "\f00d";
}
.legend-wrapper {
    min-height: 22px;
    max-height: 120px;
    overflow-x: hidden;
    overflow-y: auto;
    position: absolute;
    bottom: 0;
    width: 100%;
}
.legend-div {
    min-height: 22px;
    max-height: 100%;
    height: 22px;
    width: 100%;
}
.option_box{
    background-color: #e7e6e6;
}
.option_box .dropdown-item{
    padding: .1rem 1rem !important;
}
.option_box .dropdown-item:hover, 
.option_box .dropdown-item:focus {
    color: #16181b !important;
    background-color: #d9d9d9 !important;
}
.chart-div{
    width: -webkit-calc(100% - 1px);
    width:    -moz-calc(100% - 1px);
    width:         calc(100% - 1px);
    min-height: 350px;
}
.modal-header {
    background-color: #e60812;
    padding: .5rem .5rem !important;
}
.modal-content {
    background: #00000042;
}
.modal-footer{
    display: none;
}
.btnReset {
    position: absolute;
    top: 0;
    right: 0;
    font-size: 16px;
    background: #343a40;
    color: #fff;
}
@media (min-width: 992px){
    .modal-lg, .modal-xl {
        max-width: 700px;
    }
}
.info{
    color: #3c3b3b;
    font-size: 17px;
}
.info:hover{
    color:#f11616;
    cursor:pointer;
}
.textarea-box{
    top: 130px;
    right: 20px;
    background-color: #fff;
    position: fixed;
    display: none;
    webkit-box-shadow: -4px 7px 5px 0px rgba(136, 136, 136, 0.58);
    -moz-box-shadow: -4px 7px 5px 0px rgba(136, 136, 136, 0.58);
    box-shadow: -4px 7px 5px 0px rgba(136, 136, 136, 0.58);
    border: 1px solid #e2e2e2;
    border-radius: 5px;
    overflow: hidden;
    z-index: 10000;
    padding: 5px;
}

.textarea-box .infoBoxBody {
    max-height: 400px;
    min-width: 200px;
    overflow: auto;
}
/* CUSTOM 3D CHECKBOX */
.custom-control.custom-checkbox{padding-left: 0;}

.custom-checkbox .custom-control-label {
  position: relative;
  padding-right: 1.5rem;
}

.custom-checkbox .custom-control-label::before, 
.custom-checkbox .custom-control-label::after{
  right: 3px;
  left: auto;
}
/* END CUSTOM 3D CHECKBOX */
/* New Update */
body{
    margin: 0 !important;
}
.card-header{
    background-color: #e42525 !important;
    border-color: #ffffff !important;
    transition-duration: 0.3s;
    -webkit-transform: perspective(1px) translateZ(0);
    transform: perspective(1px) translateZ(0);
    -webkit-transition-property: color, background-color;
    transition-property: color, background-color;
}
.card-header:hover, .card-header:focus, .card-header:active {
    background-color: #e48484 !important;
}
.card-header.active{
    background-color: #e7e6e6 !important;
    border-color: #e7e6e6 !important;
}
.card-header.active .collapsed {
    color: #212529 !important;
}
</style>
<div class="search-wrapper">
    <div id="criteria_list"></div>
    <!-- Return to Top -->
    <span class="btn-arrow" id="btnGoTop" title="Go Top"><i class="fas fa-angle-up fa-2x"></i></span>
</div>

<div class="textarea-box" id="infoBoxPanel" hide>
    <div class="infoBoxBody">
        <span class="infoText"></span>
    </div>
</div>

<ul id="localTemplates">
    <li name="section">
        <div class="section {{class}}" id="{{id}}" menu_id="{{menu_id}}">
            <div class="section-header bd-callout my-2 ml-2" id="{{header_id}}">
                <h3 class="m-0 text-uppercase menu-name">{{title}}</h3> 
            </div>
            <div class="section-body" id="{{body_id}}"></div>
        </div>
    </li>
    <li name="section_card">
        <div class="section-card card rounded-0 border-0" cid="{{criteria_id}}" mid="{{menu_id}}">
            <div class="card-header bg-dark border-danger rounded-0 p-1" style="{{{header_style}}}">
                <div class="d-flex">
                    <div class="flex-grow-1 align-self-center text-white font-weight-bold criteria-name">
                        <a href="javascript:void(0);" onClick="toggleCollapse(this);" class="{{aria_collapsed}} d-inline-block w-100 text-white font-weight-bold text-decoration-none px-1">
                            {{title}} <i class="fas fa-chevron-right float-right"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="collapse {{collapse_class}}" id="{{collapse_id}}">
                <div class="card-body overflow-auto p-0" style="{{{body_style}}}">
                    <div class="d-flex flex-wrap form p-1 p-sm-0 option_box" novalidate>
                        <input type="hidden" name="menu_id" id="menu_id" value="{{menu_id}}">
                        <input type="hidden" name="menu_name" id="menu_name" value="{{menu_name}}">
                        <input type="hidden" name="criteria_id" id="criteria_id" value="{{criteria_id}}">
                        <input type="hidden" name="criteria_name" id="criteria_name" value="{{criteria_name}}">
                        <div class="form-inline pr-1 pr-sm-0">
                            <label for="my_from" class="col-form-label-sm py-0 py-sm-2 mx-sm-2 mb-0">FROM</label>
                            <select class="custom-select form-control form-control-sm" id="my_from">
                                <option value="2014">2014</option>
                                <option value="2015">2015</option>
                                <option value="2016">2016</option>
                                <option value="2017">2017</option>
                                <option value="2018">2018</option>
                                <option value="2019">2019</option>
                            </select>
                        </div>
                        <div class="form-inline pr-1 pr-sm-0">
                            <label for="my_to" class="col-form-label-sm py-0 py-sm-2 mx-sm-2 mb-0">TO</label>
                            <select class="custom-select form-control form-control-sm" id="my_to">
                                <option value="2014">2014</option>
                                <option value="2015">2015</option>
                                <option value="2016">2016</option>
                                <option value="2017">2017</option>
                                <option value="2018">2018</option>
                                <option value="2019">2019</option>
                            </select>
                        </div>
                        <div class="form-inline pr-1 pr-sm-0">
                            <label for="sum_by" class="col-form-label-sm py-0 py-sm-2 mx-sm-2 mb-0">SUM UP BY</label>
                            <div class="input-group input-group-sm">
                                <input type="number" min="1" max="6" class="form-control" id="sum_by">
                                <div class="input-group-append">
                                    <span class="input-group-text">Yrs</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-inline pr-1 pr-sm-0">
                            <label for="category" class="col-form-label-sm py-0 py-sm-2 mx-sm-2 mb-0">CATEGORY</label>
                            <select class="custom-select form-control form-control-sm category" id="category">
                                <option value="Model Year" selected="selected">Per Model Year</option>
                                <option value="Region">Per Region</option>
                                <option value="Vehicle Type">Per Vehicle Type</option>
                                <option value="OEM">Per OEM</option>
                                <option value="Market">Per Market</option>
                            </select>
                        </div>
                        <div class="form-inline pr-1 pr-sm-0 d-none" id="wrap_sub_category">
                            <label for="sub_category" class="col-form-label-sm py-0 py-sm-2 mx-sm-2 mb-0">SUB-CATEGORY</label>
                            <select class="custom-select form-control form-control-sm sub-category" id="sub_category">
                                <option value=""></option>
                            </select>
                        </div>
                        <div class="form-inline pr-1 pr-sm-0">
                            <label for="graph_type" class="col-form-label-sm py-0 py-sm-2 mx-sm-2 mb-0">GRAPH TYPE</label>
                            <select class="custom-select form-control form-control-sm" id="graph_type">
                                <option value="pie" selected="selected">Pie</option>
                                <option value="bar">Bar</option>
                            </select>
                        </div>
                        <div class="form-inline pr-1 pr-sm-0">
                            <div class="custom-control custom-checkbox ml-sm-2">
                                <input type="checkbox" class="custom-control-input is_3D" id="{{is_3D_id}}">
                                <label class="custom-control-label" for="{{is_3D_id}}">3D</label>
                            </div>
                        </div>
                        <div class="param_box" id="{{param_box_id}}"></div>
                        <div class="form-inline mr-lg-auto pr-1 pr-sm-0">
                           <a class="btn btn-default col-form-label-sm mx-sm-1" href="javascript:void(0);" role="button" id="btnGo" onClick="filterGraphData(this);"><i class="fas fa-filter"></i> GO</a>
                        </div>
                        <div class="form-inline pr-1 pr-sm-0">
                            <i class="fas fa-info-circle info" id="info" title="Vehicle Information"></i>
                            <a class="btn btn-default col-form-label-sm mx-sm-2 dropdown-toggle" href="javascript:void(0);" role="button" id="btnDownload" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-download" title="Download"></i> 
                            </a>
                            <div class="dropdown-menu" aria-labelledby="btnDownload">
                                <a class="dropdown-item" href="javascript:void(0);" onClick="downloadGraphSummary(this);">Summary</a>
                                <a class="dropdown-item" href="javascript:void(0);" onClick="downloadGraphData(this);">Reference Data</a>
                            </div>
                           <!--<a class="btn btn-default col-form-label-sm mx-sm-2" href="javascript:void(0);" role="button" id="btnDownload"  onClick="downloadGraphData(this);"><i class="fas fa-download"></i> DOWNLOAD</a>-->
                        </div>
                    </div>
                    <div class="flex-column flex-chart">
                        <div class="position-relative">
                            <div class="chart-wrapper overflow-auto">
                                <div class="chart-div d-flex flex-row mx-auto" id="{{chart_id}}"></div>
                            </div>
                            <div class="legend-wrapper">
                                <div class="legend-div px-1" id="{{legend_id}}"></div>
                            </div>
                            <a class="btn btn-default col-form-label-sm rounded-circle p-1 px-2 mt-1 d-none btnReset" href="javascript:void(0);" role="button" title="Reset Chart">
                                <i class="fas fa-redo-alt"></i>
                            </a>
                        </div>
                        <div class="d-flex flex-column justify-content-center position-relative chart-result">
                            <div class="zContainer">
                                <div class="row">
                                    <div class="col-sm-12 bg-danger text-white px-3 py-1 slant">Result</div>
                                    <div class="col-sm-12">
                                        <div class="row">
                                            <div class="col-sm-4 mb-3">
                                                <div class="font-weight-bold text-uppercase px-1">TREND :</div> 
                                                <div class="px-3 text-break trend-div" id="{{trend_id}}"></div> 
                                            </div>
                                            
                                            <div class="col-sm-4 mb-3">
                                                <div class="font-weight-bold text-uppercase px-1">NEW DESIGN PRACTICE :</div> 
                                                <div class="px-3 text-break" id="{{ndp_id}}"></div> 
                                            </div>
                                            
                                            <div class="col-sm-4 mb-3">
                                                <div class="font-weight-bold text-uppercase px-1">OPPORTUNITIES/EVOLUTION :</div> 
                                                <div class="px-3 text-break opp-div" id="{{opp_id}}"></div> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="chart-wrapper overflow-auto d-none position-relative chart_details_wrapper">
                                <div class="position-absolute ml-4" style="left:0;z-index:1">
                                    <h4><span class="badge badge-secondary selected_category"></span></h4>
                                </div>
                                <div class="form-inline position-absolute" style="right:0;z-index:1">
                                    <select class="custom-select form-control form-control-sm chart_details_opt">
                                        <option value="sunburst" selected="selected">Sunburst</option>
                                        <option value="bar">Bar</option>
                                    </select>
                                </div>
                                <div class="d-none mx-auto sunburst_details" id="{{sunburst_details_id}}"></div>
                                <div class="d-none mx-auto bar_details" id="{{bar_details_id}}"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </li>
    <li name="param">
        <div class="form-inline pr-1 pr-sm-0">
            <label for="to" class="col-form-label-sm py-0 py-sm-2 mx-sm-2 mb-0">{{param_label}}</label>
            <select class="custom-select form-control form-control-sm" id="{{column_name}}">
                <option value=""></option>
            </select>
        </div>
    </li>
    <li name="spinner">
        <div class="d-flex justify-content-center p-5 mx-auto">
            <div class="spinner-grow" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
    </li>
    <li name="noData">
        <section class="jumbotron d-flex mt-4 w-100 align-items-center text-center">
            <div class="container">
              <h1 class="jumbotron-heading">No data found!</h1>
            </div>
        </section>
    </li>
</ul>
<script src="../amcharts4/core.js"></script>
<script src="../amcharts4/charts.js"></script>
<script src="../amcharts4/maps.js"></script>
<script src="../amcharts4/geodata/continentsLow.js"></script>
<script src="../amcharts4/plugins/sunburst.js"></script>
<script src="../amcharts4/themes/animated.js"></script>